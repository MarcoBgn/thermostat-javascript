<!DOCTYPE HTML>

<html>
  <head>
	  <link rel="stylesheet type="text/css href="termstyle.css">
	  <title>Digital Thermostat</title>
  </head>
  <body id="index" onload="">
	  <section class='main-frame'>
		  <h1 id="temperature">TEMP</h1>
		  <p>
			  <button id='temp-up'></button>
			  <button id='temp-down'></button>
			  <button id='reset'>reset</button>
			  <p id='psmode-desc'>Power saving mode is: </p>
			  <p id='ps-mode'>on</p>
			  <button id='ps-switch'>Power Saving</button>
		  </p>
	  </section>
	  <script type="text/javascript" src="src/Thermostat.js"></script>
	  <script src="jquery.js"></script>
	  <script src="node_modules/private-parts/private-parts.js"></script>
	  <script>
	  	 $( document ).ready(function() {
			 var thermostat = new Thermostat();
			 
			 Thermostat.prototype.changeDisplay = function() {
				$( '#temperature' ).text(thermostat.getTemperature());
			   $( '#temperature' ).attr('class', thermostat.display())
			 };
			 
			 $( '#temperature' ).text(thermostat.getTemperature());
			 
			 $( '#temperature').css('color', 'yellow')
			  
  		  	 $( "#temp-up" ).on('click', function() {
  			   thermostat.raiseTemperature();
				thermostat.changeDisplay(); 
	  	    });
			 
  		  	 $( "#temp-down" ).on('click', function() {
  			   thermostat.lowerTemperature();
				thermostat.changeDisplay();
	  	    });
			 
  		  	 $( "#reset" ).on('click', function() {
				$( '#temperature').css('color', 'yellow')
  			   thermostat.resetTemperature();
  			   $( '#temperature' ).text(thermostat.getTemperature());
	  	    });
			 
  		  	 $( "#ps-switch" ).on('click', function() {
				thermostat.resetTemperature();
				$( '#temperature' ).text(thermostat.getTemperature());
  			   thermostat.switchPowerSaving();
				if ( $( '#ps-mode' ).text() === 'off') {
					$( '#ps-mode').text('on');
					$( '#ps-mode').css('background-color', "rgb(0, 128, 0)");
				} else {
					$( '#ps-mode').text('off');
					$( '#ps-mode').css('background-color', "rgb(255, 0, 0)")
					
				};
	  	    });
	  	 });
	  </script>
  </body>
</html>